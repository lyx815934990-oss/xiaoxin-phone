/* 通讯录和朋友管理模块样式 */

/* ========== 添加朋友页面 ========== */

/* 添加朋友页面主容器 */
.xiaoxin-wechat-add-friend-main {
    background: #ededed !important;
    height: 100%;
    display: flex;
    flex-direction: column;
    padding-top: 0 !important; /* 移除顶部内边距，避免白色区域 */
}

/* 添加朋友页面标题栏 */
.xiaoxin-wechat-add-friend-main .xiaoxin-wechat-header {
    position: sticky !important;
    top: 0 !important;
    left: 0;
    right: 0;
    background: #ededed !important;
    border-bottom: 1px solid #d9d9d9;
    z-index: 10;
    padding-top: 54px !important; /* 状态栏高度，确保标题在灵动岛下方（灵动岛top: 12px + height: 37px = 49px，所以54px安全） */
    padding-bottom: 0;
    box-sizing: border-box;
}

.xiaoxin-wechat-add-friend-main .xiaoxin-wechat-header-bar {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    padding-top: 0 !important; /* 移除额外的padding-top，因为header已经有padding-top了 */
    min-height: 44px;
    background: #ededed !important;
}

.xiaoxin-wechat-add-friend-main .xiaoxin-wechat-header-left {
    display: flex;
    align-items: center;
    flex-shrink: 0;
    width: 24px; /* 固定宽度，与右侧占位元素相同，确保标题居中 */
}

.xiaoxin-wechat-add-friend-main .xiaoxin-wechat-header-back {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #000;
}

.xiaoxin-wechat-add-friend-main .xiaoxin-wechat-header-title {
    flex: 1;
    text-align: center;
    font-size: 17px;
    font-weight: 330;
    color: #000 !important;
    margin: 0;
    padding: 0 16px; /* 左右内边距，确保文字不贴边 */
    line-height: 1.2;
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
}

/* 添加朋友页面搜索栏 - 强制浅灰色，无边框 */
.xiaoxin-wechat-add-friend-search,
.xiaoxin-wechat-root .xiaoxin-wechat-add-friend-search,
.xiaoxin-wechat-main .xiaoxin-wechat-add-friend-search {
    padding: 8px 16px !important;
    background: #ededed !important;
    background-color: #ededed !important;
    background-image: none !important;
}

.xiaoxin-wechat-add-friend-search-bar {
    position: relative;
    display: flex;
    align-items: center;
    background: #ededed !important;
    border-radius: 4px;
    padding: 8px 12px;
    min-height: 36px;
    box-sizing: border-box;
}

.xiaoxin-wechat-add-friend-search-icon {
    position: absolute;
    left: 12px;
    width: 16px;
    height: 16px;
    color: #999;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    z-index: 1;
}

/* 移除不再使用的 add-friend-search-text 样式 */

.xiaoxin-wechat-add-friend-search-input {
    width: 100%;
    height: 100%;
    border: none !important;
    outline: none !important;
    background: transparent !important;
    padding: 0 12px 0 32px;
    font-size: 14px;
    color: #000000 !important;
    text-align: center;
    box-sizing: border-box;
    position: relative;
    z-index: 2;
}

.xiaoxin-wechat-add-friend-search-input::placeholder {
    color: #999 !important;
    text-align: center !important;
    opacity: 1 !important;
}

/* 当输入框有内容或获得焦点时，隐藏 placeholder */
.xiaoxin-wechat-add-friend-search-input:focus::placeholder,
.xiaoxin-wechat-add-friend-search-input:not(:placeholder-shown)::placeholder,
.xiaoxin-wechat-add-friend-search-input[data-has-content]::placeholder {
    opacity: 0 !important;
    color: transparent !important;
}

/* 输入时文字左对齐 */
.xiaoxin-wechat-add-friend-search-input:focus,
.xiaoxin-wechat-add-friend-search-input:not(:placeholder-shown),
.xiaoxin-wechat-add-friend-search-input[data-has-content] {
    text-align: left !important;
}

/* 联系人列表 */
.xiaoxin-wechat-add-friend-contact-list {
    background: #ffffff !important;
    flex: 1;
    overflow-y: auto;
}

.xiaoxin-wechat-add-friend-contact-item {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    background: #ffffff !important;
    border-bottom: 1px solid #e5e5e5;
    cursor: pointer;
    gap: 12px;
}

.xiaoxin-wechat-add-friend-contact-item:active {
    background: #f0f0f0 !important;
}

.xiaoxin-wechat-add-friend-contact-icon {
    width: 40px;
    height: 40px;
    border-radius: 4px;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    flex-shrink: 0;
}

.xiaoxin-wechat-add-friend-contact-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.xiaoxin-wechat-add-friend-contact-title {
    font-size: 16px;
    color: #000000 !important;
    font-weight: 330;
}

.xiaoxin-wechat-add-friend-contact-desc {
    font-size: 13px;
    color: #999 !important;
}

.xiaoxin-wechat-add-friend-contact-arrow {
    width: 16px;
    height: 16px;
    color: #c7c7c7;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

/* ========== 联系人资料页面 ========== */

/* 强制移除主容器的底部内边距，确保灰色背景铺满整个页面 */
.xiaoxin-wechat-contact-detail-main {
    padding-bottom: 0 !important;
}


/* 强制联系人资料页面全屏显示，覆盖 .xiaoxin-app-page 的内边距和背景 */
.xiaoxin-app-page:has(.xiaoxin-wechat-contact-detail-main.is-fullscreen) {
    padding: 0 !important;
    background: #ededed !important;
}


/* 联系人资料页面主容器 */
.xiaoxin-wechat-contact-detail-main {
    position: relative;
    background: #ffffff !important; /* 顶部整块区域恢复为白色，不再有灰色遮罩 */
    height: 100%;
    display: flex;
    flex-direction: column;
    padding-top: 115px !important; /* 顶部空白，避免被灵动岛遮挡（灵动岛top: 12px + height: 37px = 49px，所以54px安全） */
}

/* 联系人资料页面标题栏 */
.xiaoxin-wechat-contact-detail-main .xiaoxin-wechat-header {
    position: sticky !important;
    top: 0 !important;
    left: 0;
    right: 0;
    background: #ededed !important;
    border-bottom: 1px solid #d9d9d9;
    z-index: 10;
    padding-top: 54px !important;
    padding-bottom: 0;
    box-sizing: border-box;
}

.xiaoxin-wechat-contact-detail-main .xiaoxin-wechat-header-bar {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    padding-top: 0 !important;
    min-height: 44px;
    background: #ededed !important;
}

.xiaoxin-wechat-contact-detail-main .xiaoxin-wechat-header-menu {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #000;
}

/* 联系人资料内容区域 */
.xiaoxin-wechat-contact-detail-content {
    flex: 1;
    overflow-y: auto;
    background: #ededed !important; /* 中间内容区域改为灰色 */
}

/* 头像和昵称区域 */
.xiaoxin-wechat-contact-detail-profile {
    display: flex;
    align-items: flex-start;
    padding: 20px 16px;
    background: #ffffff !important;
    gap: 16px;
}

.xiaoxin-wechat-contact-detail-avatar {
    width: 60px; /* 缩小头像尺寸 */
    height: 60px; /* 缩小头像尺寸 */
    border-radius: 8px;
    flex-shrink: 0;
    overflow: hidden;
    background: #f5f5f5;
    cursor: pointer;
    transition: opacity 0.2s;
}

.xiaoxin-wechat-contact-detail-avatar:hover {
    opacity: 0.9;
}

.xiaoxin-wechat-contact-detail-avatar-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    cursor: pointer;
}

/* 头像放大弹窗 */
.xiaoxin-wechat-avatar-preview-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.xiaoxin-wechat-avatar-preview-overlay.visible {
    opacity: 1;
}

.xiaoxin-wechat-avatar-preview-container {
    position: relative;
    max-width: 90vw;
    max-height: 90vh;
    display: flex;
    align-items: center;
    justify-content: center;
}

.xiaoxin-wechat-avatar-preview-img {
    max-width: 100%;
    max-height: 90vh;
    object-fit: contain;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
}

.xiaoxin-wechat-avatar-preview-close {
    position: absolute;
    top: -40px;
    right: 0;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 24px;
    cursor: pointer;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    transition: background 0.2s;
}

.xiaoxin-wechat-avatar-preview-close:hover {
    background: rgba(255, 255, 255, 0.3);
}

.xiaoxin-wechat-contact-detail-profile-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.xiaoxin-wechat-contact-detail-nickname {
    font-size: 20px;
    font-weight: 330;
    color: #000000 !important;
    display: flex;
    align-items: center;
    gap: 8px; /* 昵称和性别图标之间的间距 */
}

.xiaoxin-wechat-contact-detail-profile-meta {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 4px;
}

.xiaoxin-wechat-contact-detail-region {
    font-size: 14px;
    color: #999 !important;
}

.xiaoxin-wechat-contact-detail-gender {
    display: flex;
    align-items: center;
}

.xiaoxin-wechat-contact-detail-gender img {
    width: 16px;
    height: 16px;
    object-fit: contain;
}

/* 朋友资料区域 */
.xiaoxin-wechat-contact-detail-friend-info {
    margin-top: 8px;
    background: #ffffff !important;
    border-top: 1px solid #e5e5e5; /* 添加顶部边框，区分区域 */
}

.xiaoxin-wechat-contact-detail-friend-info-title {
    padding: 12px 16px;
    font-size: 14px;
    color: #000000 !important;
    font-weight: 330;
    border-bottom: 1px solid #e5e5e5;
}

.xiaoxin-wechat-contact-detail-friend-info-item {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    border-bottom: 1px solid #e5e5e5;
    gap: 12px;
}

.xiaoxin-wechat-contact-detail-friend-info-label {
    font-size: 16px;
    color: #000000 !important;
    flex: 0 0 auto;
}

.xiaoxin-wechat-contact-detail-friend-info-value {
    flex: 1;
    font-size: 16px;
    color: #000000 !important;
    text-align: right;
}

.xiaoxin-wechat-contact-detail-friend-info-arrow {
    width: 16px;
    height: 16px;
    color: #c7c7c7;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

/* 添加到通讯录按钮 */
.xiaoxin-wechat-contact-detail-add-button {
    margin: 0;
    padding: 12px;
    background: #ffffff !important; /* 按钮本身改为白色，不再是灰色条 */
    text-align: center;
    font-size: 16px;
    color: #576b95 !important;
    cursor: pointer;
    border-radius: 4px;
    user-select: none;
}

.xiaoxin-wechat-contact-detail-add-button:active {
    background: #f5f5f5 !important;
}

/* 添加到通讯录按钮的白色横条容器，左右铺满 */
.xiaoxin-wechat-contact-detail-add-bar {
    background: #ffffff !important;
    padding: 8px 16px 16px 16px;
    border-top: 1px solid #e5e5e5;
}

/* 待验证：接受 / 拒绝 按钮区域 */
.xiaoxin-wechat-contact-detail-verify-bar {
    background: #ffffff !important;
    padding: 12px 16px 16px 16px;
    border-top: 1px solid #e5e5e5;
    display: flex;
    gap: 12px;
}

.xiaoxin-wechat-contact-detail-verify-button {
    flex: 1;
    text-align: center;
    padding: 12px 0;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
    user-select: none;
}

.xiaoxin-wechat-contact-detail-verify-button.accept {
    background: #07c160;
    color: #fff !important;
}

.xiaoxin-wechat-contact-detail-verify-button.accept:active {
    background: #05a450;
}

.xiaoxin-wechat-contact-detail-verify-button.reject {
    background: #f5f5f5;
    color: #111 !important;
    border: 1px solid #e5e5e5;
}

.xiaoxin-wechat-contact-detail-verify-button.reject:active {
    background: #e8e8e8;
}

/* 按钮以下的灰色区域 */
.xiaoxin-wechat-contact-detail-bottom {
    flex: 1;
    min-height: 160px;
    background: #ededed !important; /* 仅按钮以下的独立灰色区域 */
}

/* 联系人资料卡左上角返回按钮 */
.xiaoxin-wechat-contact-detail-back {
    position: absolute;
    top: 52px; /* 往下移动一些，避开状态栏和灵动岛 */
    left: 16px;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
    cursor: pointer;
    z-index: 20;
}

/* 联系人资料卡右上角菜单按钮 */
.xiaoxin-wechat-contact-detail-menu {
    position: absolute;
    top: 52px;
    right: 16px;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
    cursor: pointer;
    z-index: 20;
}

/* 昵称标签显示 */
.xiaoxin-wechat-contact-detail-nickname-label {
    font-size: 14px;
    color: #999 !important;
}

/* 微信号显示 */
.xiaoxin-wechat-contact-detail-wechat-id {
    font-size: 14px;
    color: #999 !important;
}

/* 打招呼内容栏 */
.xiaoxin-wechat-contact-detail-greeting-bar {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    background: #ffffff !important;
    border-top: 1px solid #e5e5e5;
    border-bottom: 1px solid #e5e5e5;
}

.xiaoxin-wechat-contact-detail-greeting-label {
    font-size: 14px;
    color: #888 !important;
    flex: 0 0 auto;
}

.xiaoxin-wechat-contact-detail-greeting-text {
    font-size: 16px;
    color: #000 !important;
    flex: 1;
    line-height: 1.4;
}

/* 朋友资料区域标签占位符样式 */
.xiaoxin-wechat-contact-detail-friend-info-value.placeholder {
    text-align: left;
    color: #999 !important;
    font-size: 14px !important;
}

/* 朋友圈区域 */
.xiaoxin-wechat-contact-detail-moments {
    margin-top: 0;
}

.xiaoxin-wechat-contact-detail-moments-item {
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 12px;
}

.xiaoxin-wechat-contact-detail-moments-title {
    font-size: 16px;
    color: #000000 !important;
    flex: 0 0 auto;
}

.xiaoxin-wechat-contact-detail-moments-thumbnails {
    display: flex;
    gap: 4px;
    flex: 1;
    justify-content: flex-start;
}

.xiaoxin-wechat-contact-detail-moments-thumbnail {
    width: 60px;
    height: 60px;
    border-radius: 4px;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    flex-shrink: 0;
    border: 1px solid #e5e5e5;
}

.xiaoxin-wechat-contact-detail-moments-arrow {
    width: 16px;
    height: 16px;
    color: #c7c7c7;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

/* 底部操作按钮区域 */
.xiaoxin-wechat-contact-detail-action-bar {
    background: #ffffff !important;
    padding: 0;
    display: flex;
    flex-direction: column;
    border-top: 1px solid #e5e5e5;
}

.xiaoxin-wechat-contact-detail-action-button {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 14px 16px;
    background: transparent !important;
    color: #576b95 !important;
    border-bottom: 1px solid #e5e5e5;
    font-size: 16px;
    font-weight: 330;
    cursor: pointer;
    user-select: none;
}

.xiaoxin-wechat-contact-detail-action-button:last-child {
    border-bottom: none;
}

.xiaoxin-wechat-contact-detail-action-button:active {
    background: #f5f5f5 !important;
}

.xiaoxin-wechat-contact-detail-action-button span {
    color: #576b95 !important;
    text-align: center;
}

/* ========== 好友申请页面 ========== */
.xiaoxin-wechat-friend-apply-main {
    background: #f7f7f7 !important;
    height: 100%;
    display: flex;
    flex-direction: column;
    padding-top: 54px !important;
}

.xiaoxin-wechat-friend-apply-header {
    position: sticky !important;
    top: 0 !important;
    left: 0;
    right: 0;
    background: #f7f7f7 !important;
    z-index: 10;
    padding-top: 0 !important;
}

.xiaoxin-wechat-friend-apply-header-bar {
    display: flex;
    align-items: center;
    padding: 12px 16px 10px 16px;
    min-height: 44px;
}

.xiaoxin-wechat-friend-apply-header-left,
.xiaoxin-wechat-friend-apply-header-right {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
}

.xiaoxin-wechat-friend-apply-header-title {
    flex: 1;
    text-align: center;
    font-size: 17px;
    font-weight: 330;
    color: #000 !important;
}

.xiaoxin-wechat-friend-apply-content {
    flex: 1;
    overflow-y: auto;
    padding: 0 0 12px 0;
}

.xiaoxin-wechat-friend-apply-card {
    background: #ffffff !important;
    margin: 12px 12px 0 12px;
    padding: 12px 12px 10px 12px;
    border-radius: 8px;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.04);
}

.xiaoxin-wechat-friend-apply-label {
    font-size: 13px;
    color: #8a8a8a !important;
    margin-bottom: 8px;
}

.xiaoxin-wechat-friend-apply-textarea {
    width: 100%;
    min-height: 90px;
    border: none !important;
    outline: none !important;
    font-size: 18px;
    line-height: 1.5;
    color: #000 !important;
    resize: none;
    background: transparent !important;
}

.xiaoxin-wechat-friend-apply-section {
    background: #ffffff !important;
    margin-top: 12px;
}

.xiaoxin-wechat-friend-apply-row {
    display: flex;
    align-items: center;
    padding: 14px 16px;
    border-bottom: 1px solid #f2f2f2;
    gap: 12px;
}

.xiaoxin-wechat-friend-apply-row:last-child {
    border-bottom: none;
}

.xiaoxin-wechat-friend-apply-row-label {
    font-size: 16px;
    color: #000000 !important;
    flex: 0 0 auto;
}

.xiaoxin-wechat-friend-apply-input {
    flex: 1;
    border: none !important;
    outline: none !important;
    font-size: 16px;
    color: #000 !important;
    text-align: left;
    background: #f5f5f5 !important;
    background-color: #f5f5f5 !important;
    padding: 8px 12px;
    border-radius: 4px;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    box-shadow: none !important;
}

.xiaoxin-wechat-friend-apply-row-value {
    flex: 1;
    text-align: right;
    font-size: 16px;
    color: #000 !important;
}

.xiaoxin-wechat-friend-apply-tag-value.placeholder {
    color: #8a8a8a !important;
}

.xiaoxin-wechat-friend-apply-row-arrow {
    width: 16px;
    height: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #c7c7c7;
}

.xiaoxin-wechat-friend-apply-permission-section {
    margin-top: 0;
}

.xiaoxin-wechat-friend-apply-permission-list {
    background: #ffffff !important;
}

.xiaoxin-wechat-friend-apply-permission-option {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 14px 16px;
    border-bottom: 1px solid #f2f2f2;
    cursor: pointer;
}

.xiaoxin-wechat-friend-apply-permission-option:last-child {
    border-bottom: none;
}

.xiaoxin-wechat-friend-apply-permission-text {
    font-size: 16px;
    color: #000 !important;
}

.xiaoxin-wechat-friend-apply-permission-check {
    width: 18px;
    height: 18px;
    position: relative;
}

.xiaoxin-wechat-friend-apply-permission-option.selected
    .xiaoxin-wechat-friend-apply-permission-check::after {
    content: "";
    position: absolute;
    left: 3px;
    top: 1px;
    width: 6px;
    height: 10px;
    border: solid #1aad19;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
}

.xiaoxin-wechat-friend-apply-permission-option.switch-row {
    justify-content: space-between;
    padding-left: 32px;
}

.xiaoxin-wechat-friend-apply-switch {
    width: 46px;
    height: 26px;
    background: #d9d9d9;
    border-radius: 13px;
    position: relative;
    transition: background 0.2s ease;
    box-sizing: border-box;
}

.xiaoxin-wechat-friend-apply-switch-handle {
    position: absolute;
    top: 3px;
    left: 3px;
    width: 20px;
    height: 20px;
    background: #ffffff;
    border-radius: 50%;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    transition: transform 0.2s ease;
}

.xiaoxin-wechat-friend-apply-switch.on {
    background: #1aad19;
}

.xiaoxin-wechat-friend-apply-switch.on .xiaoxin-wechat-friend-apply-switch-handle {
    transform: translateX(20px);
}

.xiaoxin-wechat-friend-apply-footer {
    padding: 16px;
    background: #f7f7f7 !important;
}

.xiaoxin-wechat-friend-apply-send {
    width: 100%;
    background: #1aad19;
    color: #ffffff !important;
    text-align: center;
    padding: 12px 0;
    border-radius: 6px;
    font-size: 17px;
    font-weight: 330;
    cursor: pointer;
    user-select: none;
}

.xiaoxin-wechat-friend-apply-send:active {
    background: #189716;
}

/* ========== 标签选择弹窗 ========== */

/* 遮罩层 */
.xiaoxin-wechat-tag-picker-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.4);
    z-index: 1000;
    display: flex;
    justify-content: center;
    align-items: flex-end; /* 弹窗从底部出现 */
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

.xiaoxin-wechat-tag-picker-overlay.visible {
    opacity: 1;
    pointer-events: auto;
}

/* 弹窗主容器 */
.xiaoxin-wechat-tag-picker {
    width: 100%;
    height: 85%;
    max-height: 700px;
    background: #f7f7f7;
    border-radius: 16px 16px 0 0;
    display: flex;
    flex-direction: column;
    transform: translateY(100%);
    transition: transform 0.3s ease;
}

.xiaoxin-wechat-tag-picker-overlay.visible .xiaoxin-wechat-tag-picker {
    transform: translateY(0);
}

/* 弹窗头部 */
.xiaoxin-wechat-tag-picker-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    border-bottom: 1px solid #e5e5e5;
    background: #fff;
    border-radius: 16px 16px 0 0;
    flex-shrink: 0;
}

.xiaoxin-wechat-tag-picker-btn {
    font-size: 16px;
    cursor: pointer;
}

.xiaoxin-wechat-tag-picker-cancel {
    color: #000;
}

.xiaoxin-wechat-tag-picker-title {
    font-size: 17px;
    font-weight: 330;
    color: #000;
}

.xiaoxin-wechat-tag-picker-confirm {
    color: #fff;
    background-color: #07c160;
    padding: 6px 14px;
    border-radius: 6px;
    font-weight: 330;
}

.xiaoxin-wechat-tag-picker-confirm.disabled {
    background-color: #a0e6c2;
    cursor: not-allowed;
}

/* 搜索框 */
.xiaoxin-wechat-tag-picker-search-bar {
    padding: 12px 16px;
    background: #fff;
    flex-shrink: 0;
}

.xiaoxin-wechat-tag-picker-search-bar input {
    width: 100% !important;
    padding: 8px 12px !important;
    border: none !important;
    outline: none !important;
    background: #f7f7f7 !important; /* 强制浅灰色背景，覆盖主题 */
    background-color: #f7f7f7 !important;
    background-image: none !important;
    border-radius: 8px !important;
    font-size: 15px !important;
    box-sizing: border-box !important;
    color: #000 !important;
    -webkit-appearance: none !important;
    appearance: none !important;
    text-align: center !important; /* 输入和占位均居中 */
}

.xiaoxin-wechat-tag-picker-search-bar input::placeholder {
    color: #999 !important;
    text-align: center !important;
}

/* 内容区域 */
.xiaoxin-wechat-tag-picker-content {
    flex: 1;
    overflow-y: auto;
    padding: 0 16px;
}

.xiaoxin-wechat-tag-picker-section {
    margin-top: 20px;
}

.xiaoxin-wechat-tag-picker-section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
    font-size: 14px;
    color: #666;
}

.xiaoxin-wechat-tag-picker-manage {
    color: #576b95;
    cursor: pointer;
}

/* 标签容器 */
.xiaoxin-wechat-tag-picker-tags-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

/* 标签样式 */
.xiaoxin-wechat-tag-picker-tag {
    padding: 8px 16px;
    background: #fff;
    border-radius: 6px;
    font-size: 15px;
    color: #000;
    cursor: pointer;
    border: 1px solid #fff;
    transition: background-color 0.2s, color 0.2s, border-color 0.2s;
}

.xiaoxin-wechat-tag-picker-tag.selected {
    background-color: #d8e6d8;
    color: #07c160;
    border-color: #07c160;
}

/* 新建标签按钮 */
.xiaoxin-wechat-tag-picker-new-tag {
    color: #576b95;
    background: transparent;
    border: 1px dashed #ccc;
}

/* 管理模式：删除选中样式 */
.xiaoxin-wechat-tag-picker-tag.delete-selected {
    background: #ffeaea;
    border-color: #ff3b30;
    color: #ff3b30;
}

/* 底部删除操作栏 */
.xiaoxin-wechat-tag-picker-manage-bar {
    position: sticky;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 12px 16px;
    background: #fff;
    border-top: 1px solid #e5e5e5;
    display: none;
    flex-shrink: 0;
}

.xiaoxin-wechat-tag-picker-manage-bar.visible {
    display: block;
}

.xiaoxin-wechat-tag-picker-delete-btn {
    width: 100%;
    text-align: center;
    padding: 12px 0;
    border-radius: 8px;
    background: #ff3b30;
    color: #fff;
    font-size: 16px;
    font-weight: 330;
    user-select: none;
    cursor: pointer;
}

.xiaoxin-wechat-tag-picker-delete-btn.disabled {
    background: #ffd1cd;
    cursor: not-allowed;
}

/* ========== 编辑备注弹窗 ========== */

/* 遮罩层 */
.xiaoxin-wechat-edit-remark-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.4);
    z-index: 1000;
    display: flex;
    justify-content: center;
    align-items: flex-end; /* 弹窗从底部出现 */
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

.xiaoxin-wechat-edit-remark-overlay.visible {
    opacity: 1;
    pointer-events: auto;
}

/* 弹窗主容器 */
.xiaoxin-wechat-edit-remark-dialog {
    width: 100%;
    background: #fff;
    border-radius: 16px 16px 0 0;
    display: flex;
    flex-direction: column;
    transform: translateY(100%);
    transition: transform 0.3s ease;
}

.xiaoxin-wechat-edit-remark-overlay.visible .xiaoxin-wechat-edit-remark-dialog {
    transform: translateY(0);
}

/* 弹窗头部 */
.xiaoxin-wechat-edit-remark-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    border-bottom: 1px solid #e5e5e5;
    background: #fff;
    border-radius: 16px 16px 0 0;
    flex-shrink: 0;
}

.xiaoxin-wechat-edit-remark-btn {
    font-size: 16px;
    cursor: pointer;
    user-select: none;
}

.xiaoxin-wechat-edit-remark-cancel {
    color: #000;
}

.xiaoxin-wechat-edit-remark-title {
    font-size: 17px;
    font-weight: 330;
    color: #000;
}

.xiaoxin-wechat-edit-remark-confirm {
    color: #fff;
    background-color: #07c160;
    padding: 6px 14px;
    border-radius: 6px;
    font-weight: 330;
}

/* 内容区域 */
.xiaoxin-wechat-edit-remark-content {
    padding: 20px 16px;
    background: #fff;
}

.xiaoxin-wechat-edit-remark-input-wrapper {
    width: 100%;
}

.xiaoxin-wechat-edit-remark-input {
    width: 100% !important;
    padding: 12px !important;
    border: 1px solid #e5e5e5 !important;
    outline: none !important;
    background: #fff !important;
    background-color: #fff !important;
    background-image: none !important;
    border-radius: 8px !important;
    font-size: 16px !important;
    box-sizing: border-box !important;
    color: #000 !important;
    -webkit-appearance: none !important;
    appearance: none !important;
}

.xiaoxin-wechat-edit-remark-input:focus {
    border-color: #07c160 !important;
}

.xiaoxin-wechat-edit-remark-input::placeholder {
    color: #999 !important;
}

/* ========== 新的朋友页面 ========== */
.xiaoxin-wechat-new-friends-main {
    background: #ededed !important;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.xiaoxin-wechat-new-friends-header {
    position: sticky !important;
    top: 0 !important;
    left: 0;
    right: 0;
    background: #ededed !important;
    border-bottom: 1px solid #d9d9d9;
    z-index: 10;
    padding-top: 0 !important;
    padding-bottom: 0;
    box-sizing: border-box;
}

.xiaoxin-wechat-new-friends-header-bar {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    min-height: 44px;
}

.xiaoxin-wechat-new-friends-header-left,
.xiaoxin-wechat-new-friends-header-right {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
}

.xiaoxin-wechat-new-friends-header-title {
    flex: 1;
    text-align: center;
    font-size: 17px;
    font-weight: 330;
    color: #000 !important;
}

.xiaoxin-wechat-new-friends-content {
    flex: 1;
    overflow-y: auto;
}

.xiaoxin-wechat-new-friends-section-title {
    padding: 8px 16px;
    font-size: 13px;
    color: #999 !important;
}

.xiaoxin-wechat-new-friends-list {
    background: #ffffff !important;
}

.xiaoxin-wechat-new-friends-item {
    display: flex;
    align-items: center;
    padding: 10px 16px;
    border-bottom: 1px solid #f2f2f2;
}

.xiaoxin-wechat-new-friends-avatar {
    width: 40px;
    height: 40px;
    border-radius: 4px;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    flex-shrink: 0;
    margin-right: 10px;
}

.xiaoxin-wechat-new-friends-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.xiaoxin-wechat-new-friends-name {
    font-size: 16px;
    color: #000 !important;
}

.xiaoxin-wechat-new-friends-greeting {
    font-size: 13px;
    color: #999 !important;
}

.xiaoxin-wechat-new-friends-status {
    margin-left: 8px;
    font-size: 13px;
    color: #999 !important;
    flex-shrink: 0;
}

.xiaoxin-wechat-new-friends-status-accept {
    padding: 4px 10px;
    border-radius: 4px;
    background-color: #07c160;
    color: #ffffff !important;
    font-size: 13px;
    line-height: 1.4;
    cursor: pointer;
}

.xiaoxin-wechat-new-friends-status.added-from-player::before {
    content: ""; /* 移除伪元素中的箭头，只在JS中控制 */
    margin-right: 0;
}

/* ========== 生成历史朋友圈弹窗 ========== */
/* 强制覆盖所有可能的主题样式 */
.xiaoxin-wechat-history-moments-overlay *,
.xiaoxin-wechat-history-moments-overlay *::before,
.xiaoxin-wechat-history-moments-overlay *::after {
    box-sizing: border-box !important;
}

.xiaoxin-wechat-history-moments-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background-color: rgba(0, 0, 0, 0.5) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 10000 !important;
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-history-moments-modal {
    background: #ffffff !important;
    border-radius: 8px !important;
    width: 90% !important;
    max-width: 500px !important;
    max-height: 60vh !important;
    display: flex !important;
    flex-direction: column !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
    /* 强制覆盖主题样式 */
    color: #000000 !important;
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-history-moments-title-bar {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 16px 20px !important;
    border-bottom: 1px solid #e5e5e5 !important;
    background-color: #ffffff !important;
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-history-moments-title {
    font-size: 18px !important;
    font-weight: 600 !important;
    color: #000000 !important;
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-history-moments-close {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #666666;
    /* 不适配酒馆主题，使用固定样式 */
}

/* 移除关闭按钮悬停样式 */

.xiaoxin-wechat-history-moments-content {
    padding: 20px !important;
    overflow-y: auto !important;
    flex: 1 !important;
    background-color: #ffffff !important;
    color: #000000 !important;
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-history-moments-row {
    margin-bottom: 20px !important;
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-history-moments-row:last-child {
    margin-bottom: 0 !important;
}

.xiaoxin-wechat-history-moments-label {
    font-size: 14px !important;
    color: #333333 !important;
    margin-bottom: 8px !important;
    font-weight: 500 !important;
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-history-moments-input,
.xiaoxin-wechat-history-moments-select,
input.xiaoxin-wechat-history-moments-input,
select.xiaoxin-wechat-history-moments-select {
    width: 100% !important;
    padding: 10px 12px !important;
    border: none !important;
    border-width: 0 !important;
    border-style: none !important;
    border-color: transparent !important;
    border-radius: 4px !important;
    font-size: 14px !important;
    color: #000000 !important;
    background-color: #f5f5f5 !important;
    background: #f5f5f5 !important;
    box-sizing: border-box !important;
    box-shadow: none !important;
    -webkit-box-shadow: none !important;
    -moz-box-shadow: none !important;
    outline: none !important;
    outline-width: 0 !important;
    outline-style: none !important;
    outline-color: transparent !important;
    /* 强制覆盖所有可能的主题样式 */
    background-image: none !important;
    background-clip: padding-box !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    transition: none !important;
    -webkit-transition: none !important;
    -moz-transition: none !important;
    -o-transition: none !important;
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-history-moments-input:hover,
.xiaoxin-wechat-history-moments-select:hover,
.xiaoxin-wechat-history-moments-input:focus,
.xiaoxin-wechat-history-moments-select:focus,
.xiaoxin-wechat-history-moments-input:active,
.xiaoxin-wechat-history-moments-select:active,
.xiaoxin-wechat-history-moments-input:visited,
.xiaoxin-wechat-history-moments-select:visited,
.xiaoxin-wechat-history-moments-input:not(:focus),
.xiaoxin-wechat-history-moments-select:not(:focus),
input.xiaoxin-wechat-history-moments-input:hover,
select.xiaoxin-wechat-history-moments-select:hover,
input.xiaoxin-wechat-history-moments-input:focus,
select.xiaoxin-wechat-history-moments-select:focus,
input.xiaoxin-wechat-history-moments-input:active,
select.xiaoxin-wechat-history-moments-select:active,
input.xiaoxin-wechat-history-moments-input:visited,
select.xiaoxin-wechat-history-moments-select:visited {
    outline: none !important;
    outline-width: 0 !important;
    outline-style: none !important;
    outline-color: transparent !important;
    border: none !important;
    border-width: 0 !important;
    border-style: none !important;
    border-color: transparent !important;
    background-color: #f5f5f5 !important;
    background: #f5f5f5 !important;
    box-shadow: none !important;
    -webkit-box-shadow: none !important;
    -moz-box-shadow: none !important;
    color: #000000 !important;
    background-image: none !important;
    transition: none !important;
    -webkit-transition: none !important;
    -moz-transition: none !important;
    -o-transition: none !important;
    /* 不适配酒馆主题，使用固定样式 */
}

/* 强制下拉框样式 */
.xiaoxin-wechat-history-moments-select {
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E") !important;
    background-repeat: no-repeat !important;
    background-position: right 12px center !important;
    background-color: #f5f5f5 !important;
    padding-right: 32px !important;
    color: #000000 !important;
}

.xiaoxin-wechat-history-moments-select:hover,
.xiaoxin-wechat-history-moments-select:focus,
.xiaoxin-wechat-history-moments-select:active,
.xiaoxin-wechat-history-moments-select:visited {
    background-color: #f5f5f5 !important;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E") !important;
    color: #000000 !important;
    outline: none !important;
    border: none !important;
    box-shadow: none !important;
}

.xiaoxin-wechat-history-moments-input::placeholder,
.xiaoxin-wechat-history-moments-input::-webkit-input-placeholder,
.xiaoxin-wechat-history-moments-input::-moz-placeholder,
.xiaoxin-wechat-history-moments-input:-ms-input-placeholder {
    color: #999999 !important;
    opacity: 1 !important;
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-history-moments-style-wrapper {
    display: flex;
    flex-direction: column;
    gap: 8px;
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-history-moments-custom-input {
    margin-top: 8px;
    border: none !important;
    background-color: #f5f5f5 !important;
    color: #000000 !important;
    box-shadow: none !important;
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-history-moments-custom-input:hover,
.xiaoxin-wechat-history-moments-custom-input:focus,
.xiaoxin-wechat-history-moments-custom-input:active,
.xiaoxin-wechat-history-moments-custom-input:visited,
.xiaoxin-wechat-history-moments-custom-input:not(:focus) {
    outline: none !important;
    outline-width: 0 !important;
    outline-style: none !important;
    outline-color: transparent !important;
    border: none !important;
    border-width: 0 !important;
    border-style: none !important;
    border-color: transparent !important;
    background-color: #f5f5f5 !important;
    background: #f5f5f5 !important;
    box-shadow: none !important;
    -webkit-box-shadow: none !important;
    -moz-box-shadow: none !important;
    color: #000000 !important;
    transition: none !important;
    -webkit-transition: none !important;
    -moz-transition: none !important;
    -o-transition: none !important;
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-history-moments-footer {
    display: flex;
    gap: 12px;
    padding: 16px 20px;
    border-top: 1px solid #e5e5e5;
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-history-moments-btn {
    flex: 1 !important;
    padding: 12px 20px !important;
    border: none !important;
    border-radius: 4px !important;
    font-size: 16px !important;
    cursor: pointer !important;
    transition: none !important;
    -webkit-transition: none !important;
    -moz-transition: none !important;
    -o-transition: none !important;
    /* 移除transition和悬停样式，不适配酒馆主题 */
}

.xiaoxin-wechat-history-moments-btn-cancel {
    background-color: #f5f5f5 !important;
    color: #333333 !important;
    /* 不适配酒馆主题，使用固定样式 */
}

/* 移除取消按钮悬停样式 */
.xiaoxin-wechat-history-moments-btn-cancel:hover,
.xiaoxin-wechat-history-moments-btn-cancel:focus,
.xiaoxin-wechat-history-moments-btn-cancel:active,
.xiaoxin-wechat-history-moments-btn-cancel:visited {
    background-color: #f5f5f5 !important;
    color: #333333 !important;
    box-shadow: none !important;
    outline: none !important;
    border: none !important;
    transform: none !important;
    opacity: 1 !important;
}

.xiaoxin-wechat-history-moments-btn-confirm {
    background-color: #07c160 !important;
    color: #ffffff !important;
    /* 不适配酒馆主题，使用固定样式 */
}

/* 移除确认按钮悬停样式 */
.xiaoxin-wechat-history-moments-btn-confirm:hover,
.xiaoxin-wechat-history-moments-btn-confirm:focus,
.xiaoxin-wechat-history-moments-btn-confirm:active,
.xiaoxin-wechat-history-moments-btn-confirm:visited {
    background-color: #07c160 !important;
    color: #ffffff !important;
    box-shadow: none !important;
    outline: none !important;
    border: none !important;
    transform: none !important;
    opacity: 1 !important;
}

/* 生成历史朋友圈按钮（右上角，使用SVG图标） */
.xiaoxin-wechat-contact-detail-history-moments-btn {
    position: absolute;
    top: 52px;
    right: 16px;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
    cursor: pointer;
    user-select: none;
    flex-shrink: 0;
    border-radius: 4px;
    transition: background-color 0.2s;
    z-index: 20;
    background-color: rgba(255, 255, 255, 0.9);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    /* 不适配酒馆主题，使用固定样式 */
}

.xiaoxin-wechat-contact-detail-history-moments-btn:hover {
    background-color: rgba(0, 0, 0, 0.05);
}

.xiaoxin-wechat-contact-detail-history-moments-btn:active {
    opacity: 0.6;
}

.xiaoxin-wechat-contact-detail-history-moments-btn svg {
    width: 20px;
    height: 20px;
}

/* ========== 联系人历史朋友圈生成弹窗 ========== */
.xiaoxin-wechat-char-history-moments-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 200;
    box-sizing: border-box !important;
}

.xiaoxin-wechat-char-history-moments-modal {
    background-color: #ffffff;
    border-radius: 8px;
    width: 90%;
    max-width: 500px;
    max-height: 60vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.xiaoxin-wechat-char-history-moments-title-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 20px;
    border-bottom: 1px solid #e5e5e5;
}

.xiaoxin-wechat-char-history-moments-title {
    font-size: 18px;
    font-weight: 600;
    color: #000000;
}

.xiaoxin-wechat-char-history-moments-close {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #666666;
}

.xiaoxin-wechat-char-history-moments-close:hover {
    color: #000000;
}

.xiaoxin-wechat-char-history-moments-content {
    padding: 20px;
    overflow-y: auto;
    flex: 1;
}

.xiaoxin-wechat-char-history-moments-row {
    margin-bottom: 20px;
}

.xiaoxin-wechat-char-history-moments-row:last-child {
    margin-bottom: 0;
}

.xiaoxin-wechat-char-history-moments-label {
    font-size: 14px;
    color: #333333;
    margin-bottom: 8px;
}

.xiaoxin-wechat-char-history-moments-input,
.xiaoxin-wechat-char-history-moments-textarea,
.xiaoxin-wechat-char-history-moments-select,
input.xiaoxin-wechat-char-history-moments-input,
textarea.xiaoxin-wechat-char-history-moments-textarea,
select.xiaoxin-wechat-char-history-moments-select {
    width: 100% !important;
    padding: 10px 12px !important;
    border: none !important;
    border-width: 0 !important;
    border-style: none !important;
    border-color: transparent !important;
    border-radius: 4px !important;
    font-size: 14px !important;
    color: #000000 !important;
    background-color: #f5f5f5 !important;
    background: #f5f5f5 !important;
    box-sizing: border-box !important;
    box-shadow: none !important;
    -webkit-box-shadow: none !important;
    -moz-box-shadow: none !important;
    outline: none !important;
    outline-width: 0 !important;
    outline-style: none !important;
    outline-color: transparent !important;
    background-image: none !important;
    background-clip: padding-box !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    transition: none !important;
    -webkit-transition: none !important;
    -moz-transition: none !important;
    -o-transition: none !important;
}

.xiaoxin-wechat-char-history-moments-input:hover,
.xiaoxin-wechat-char-history-moments-textarea:hover,
.xiaoxin-wechat-char-history-moments-select:hover,
.xiaoxin-wechat-char-history-moments-input:focus,
.xiaoxin-wechat-char-history-moments-textarea:focus,
.xiaoxin-wechat-char-history-moments-select:focus,
.xiaoxin-wechat-char-history-moments-input:active,
.xiaoxin-wechat-char-history-moments-textarea:active,
.xiaoxin-wechat-char-history-moments-select:active,
.xiaoxin-wechat-char-history-moments-input:visited,
.xiaoxin-wechat-char-history-moments-textarea:visited,
.xiaoxin-wechat-char-history-moments-select:visited,
.xiaoxin-wechat-char-history-moments-input:not(:focus),
.xiaoxin-wechat-char-history-moments-textarea:not(:focus),
.xiaoxin-wechat-char-history-moments-select:not(:focus),
input.xiaoxin-wechat-char-history-moments-input:hover,
textarea.xiaoxin-wechat-char-history-moments-textarea:hover,
select.xiaoxin-wechat-char-history-moments-select:hover,
input.xiaoxin-wechat-char-history-moments-input:focus,
textarea.xiaoxin-wechat-char-history-moments-textarea:focus,
select.xiaoxin-wechat-char-history-moments-select:focus,
input.xiaoxin-wechat-char-history-moments-input:active,
textarea.xiaoxin-wechat-char-history-moments-textarea:active,
select.xiaoxin-wechat-char-history-moments-select:active,
input.xiaoxin-wechat-char-history-moments-input:visited,
textarea.xiaoxin-wechat-char-history-moments-textarea:visited,
select.xiaoxin-wechat-char-history-moments-select:visited {
    outline: none !important;
    outline-width: 0 !important;
    outline-style: none !important;
    outline-color: transparent !important;
    border: none !important;
    border-width: 0 !important;
    border-style: none !important;
    border-color: transparent !important;
    background-color: #f5f5f5 !important;
    background: #f5f5f5 !important;
    box-shadow: none !important;
    -webkit-box-shadow: none !important;
    -moz-box-shadow: none !important;
    color: #000000 !important;
    background-image: none !important;
    transition: none !important;
    -webkit-transition: none !important;
    -moz-transition: none !important;
    -o-transition: none !important;
}

.xiaoxin-wechat-char-history-moments-select {
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E") !important;
    background-repeat: no-repeat !important;
    background-position: right 12px center !important;
    background-color: #f5f5f5 !important;
    padding-right: 32px !important;
    color: #000000 !important;
}

.xiaoxin-wechat-char-history-moments-select:hover,
.xiaoxin-wechat-char-history-moments-select:focus,
.xiaoxin-wechat-char-history-moments-select:active,
.xiaoxin-wechat-char-history-moments-select:visited {
    background-color: #f5f5f5 !important;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E") !important;
    color: #000000 !important;
    outline: none !important;
    border: none !important;
    box-shadow: none !important;
}

.xiaoxin-wechat-char-history-moments-input::placeholder,
.xiaoxin-wechat-char-history-moments-input::-webkit-input-placeholder,
.xiaoxin-wechat-char-history-moments-input::-moz-placeholder,
.xiaoxin-wechat-char-history-moments-input:-ms-input-placeholder {
    color: #999999 !important;
    opacity: 1 !important;
}

.xiaoxin-wechat-char-history-moments-style-wrapper {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.xiaoxin-wechat-char-history-moments-custom-input {
    margin-top: 8px;
    border: none !important;
    background-color: #f5f5f5 !important;
    color: #000000 !important;
    box-shadow: none !important;
}

.xiaoxin-wechat-char-history-moments-custom-input:hover,
.xiaoxin-wechat-char-history-moments-custom-input:focus,
.xiaoxin-wechat-char-history-moments-custom-input:active,
.xiaoxin-wechat-char-history-moments-custom-input:visited,
.xiaoxin-wechat-char-history-moments-custom-input:not(:focus) {
    outline: none !important;
    outline-width: 0 !important;
    outline-style: none !important;
    outline-color: transparent !important;
    border: none !important;
    border-width: 0 !important;
    border-style: none !important;
    border-color: transparent !important;
    background-color: #f5f5f5 !important;
    background: #f5f5f5 !important;
    box-shadow: none !important;
    -webkit-box-shadow: none !important;
    -moz-box-shadow: none !important;
    color: #000000 !important;
    transition: none !important;
    -webkit-transition: none !important;
    -moz-transition: none !important;
    -o-transition: none !important;
}

.xiaoxin-wechat-char-history-moments-checkbox-wrapper {
    display: flex;
    align-items: center;
}

.xiaoxin-wechat-char-history-moments-checkbox {
    width: 18px;
    height: 18px;
    cursor: pointer;
}

.xiaoxin-wechat-char-history-moments-footer {
    display: flex;
    gap: 12px;
    padding: 16px 20px;
    border-top: 1px solid #e5e5e5;
}

.xiaoxin-wechat-char-history-moments-btn {
    flex: 1;
    padding: 12px 20px;
    border: none !important;
    border-radius: 4px;
    font-size: 16px;
    cursor: pointer;
    transition: none !important;
    -webkit-transition: none !important;
    -moz-transition: none !important;
    -o-transition: none !important;
}

.xiaoxin-wechat-char-history-moments-btn-cancel {
    background-color: #f5f5f5 !important;
    color: #333333 !important;
}

.xiaoxin-wechat-char-history-moments-btn-cancel:hover,
.xiaoxin-wechat-char-history-moments-btn-cancel:focus,
.xiaoxin-wechat-char-history-moments-btn-cancel:active,
.xiaoxin-wechat-char-history-moments-btn-cancel:visited {
    background-color: #f5f5f5 !important;
    color: #333333 !important;
    box-shadow: none !important;
    outline: none !important;
    border: none !important;
    transform: none !important;
    opacity: 1 !important;
}

.xiaoxin-wechat-char-history-moments-btn-confirm {
    background-color: #07c160 !important;
    color: #ffffff !important;
}

.xiaoxin-wechat-char-history-moments-btn-confirm:hover,
.xiaoxin-wechat-char-history-moments-btn-confirm:focus,
.xiaoxin-wechat-char-history-moments-btn-confirm:active,
.xiaoxin-wechat-char-history-moments-btn-confirm:visited {
    background-color: #07c160 !important;
    color: #ffffff !important;
    box-shadow: none !important;
    outline: none !important;
    border: none !important;
    transform: none !important;
    opacity: 1 !important;
}

/* ========== 联系人设置页面 ========== */

/* 联系人设置页面主容器 */
.xiaoxin-wechat-contact-settings-main {
    background: #ededed !important;
    height: 100%;
    display: flex;
    flex-direction: column;
    padding-top: 0 !important;
}

/* 联系人设置页面标题栏 */
.xiaoxin-wechat-contact-settings-main .xiaoxin-wechat-header {
    position: sticky !important;
    top: 0 !important;
    left: 0;
    right: 0;
    background: #ededed !important;
    border-bottom: 1px solid #d9d9d9;
    z-index: 10;
    padding-top: 54px !important;
    padding-bottom: 0;
    box-sizing: border-box;
}

.xiaoxin-wechat-contact-settings-main .xiaoxin-wechat-header-bar {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    padding-top: 0 !important;
    min-height: 44px;
    background: #ededed !important;
}

.xiaoxin-wechat-contact-settings-main .xiaoxin-wechat-header-left {
    display: flex;
    align-items: center;
    flex-shrink: 0;
    width: 24px;
}

.xiaoxin-wechat-contact-settings-main .xiaoxin-wechat-header-back {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #000;
}

.xiaoxin-wechat-contact-settings-main .xiaoxin-wechat-header-title {
    flex: 1;
    text-align: center;
    font-size: 17px;
    font-weight: 330;
    color: #000 !important;
    margin: 0;
    padding: 0 16px;
    line-height: 1.2;
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
}

.xiaoxin-wechat-contact-settings-main .xiaoxin-wechat-header-right {
    width: 24px;
    flex-shrink: 0;
}

/* 联系人设置页面内容区域 */
.xiaoxin-wechat-contact-settings-content {
    flex: 1;
    overflow-y: auto;
    background: #ededed !important;
    padding-top: 0;
}

/* 设置行 */
.xiaoxin-wechat-contact-settings-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    background: #ffffff !important;
    cursor: pointer;
    user-select: none;
    border-bottom: 1px solid #e5e5e5;
    transition: background-color 0.2s;
}

.xiaoxin-wechat-contact-settings-row:active {
    background-color: #f5f5f5 !important;
}

.xiaoxin-wechat-contact-settings-row-text {
    font-size: 16px;
    color: #000000 !important;
    flex: 1;
}

.xiaoxin-wechat-contact-settings-row-arrow {
    width: 16px;
    height: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #999;
    flex-shrink: 0;
    margin-left: 8px;
}

/* 切换开关 */
.xiaoxin-wechat-contact-settings-toggle {
    width: 51px;
    height: 31px;
    background: #e5e5e5;
    border-radius: 31px;
    position: relative;
    cursor: pointer;
    transition: background-color 0.3s;
    flex-shrink: 0;
}

.xiaoxin-wechat-contact-settings-toggle.active {
    background: #07c160;
}

.xiaoxin-wechat-contact-settings-toggle .xiaoxin-wechat-contact-settings-switch {
    width: 27px;
    height: 27px;
    background: #ffffff;
    border-radius: 50%;
    position: absolute;
    top: 2px;
    left: 2px;
    transition: transform 0.3s;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.xiaoxin-wechat-contact-settings-toggle .xiaoxin-wechat-contact-settings-switch.active {
    transform: translateX(20px);
}

/* 分隔线 */
.xiaoxin-wechat-contact-settings-divider {
    height: 8px;
    background: #ededed !important;
    border: none;
    margin: 0;
}

.xiaoxin-wechat-contact-settings-divider-large {
    height: 20px;
    background: #ededed !important;
    border: none;
    margin: 0;
}

/* 删除按钮行（红色文字） */
.xiaoxin-wechat-contact-settings-row-delete {
    background: #ffffff !important;
}

.xiaoxin-wechat-contact-settings-row-delete .xiaoxin-wechat-contact-settings-row-text {
    color: #ff3b30 !important;
    text-align: center;
    width: 100%;
}
